"use strict";(self.webpackChunkandroid_utils_docs=self.webpackChunkandroid_utils_docs||[]).push([[557],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(n),h=a,m=u["".concat(s,".").concat(h)]||u[h]||d[h]||l;return n?r.createElement(m,i(i({ref:t},c),{},{components:n})):r.createElement(m,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,i=new Array(l);i[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},7605:(e,t,n)=>{n.r(t),n.d(t,{Event:()=>c,Parameter:()=>d,assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const l={id:"firebase-analytics",title:"Firebase And Google Analytics",sidebar_label:"Analytics",description:"Optional event logging in Firebase Analytics."},i=void 0,o={unversionedId:"configuration/firebase-analytics",id:"configuration/firebase-analytics",title:"Firebase And Google Analytics",description:"Optional event logging in Firebase Analytics.",source:"@site/docs/configuration/firebase-analytics.md",sourceDirName:"configuration",slug:"/configuration/firebase-analytics",permalink:"/Android-Utils/docs/configuration/firebase-analytics",draft:!1,editUrl:"https://github.com/JeovaniMartinez/Android-Utils/edit/documentation/docs/configuration/firebase-analytics.md",tags:[],version:"current",frontMatter:{id:"firebase-analytics",title:"Firebase And Google Analytics",sidebar_label:"Analytics",description:"Optional event logging in Firebase Analytics."},sidebar:"mainSidebar",previous:{title:"Log",permalink:"/Android-Utils/docs/configuration/log"},next:{title:"Prepare For Release",permalink:"/Android-Utils/docs/configuration/prepare-for-release"}},s={},p=[{value:"Description",id:"description",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Event list",id:"event-list",level:2},{value:"About App",id:"about-app",level:3},{value:"More Apps",id:"more-apps",level:3},{value:"Premium App",id:"premium-app",level:3},{value:"Rate App",id:"rate-app",level:3},{value:"System Web Browser",id:"system-web-browser",level:3}],c=e=>{let{children:t}=e;return(0,a.kt)("span",{style:{backgroundColor:"#004234",borderRadius:"6px",color:"#fff",padding:"0.2rem 0.8rem"}},t)},d=e=>{let{children:t}=e;return(0,a.kt)("span",{style:{backgroundColor:"#807300",borderRadius:"6px",color:"#fff",padding:"0.2rem 0.8rem"}},t)},u={toc:p,Event:c,Parameter:d};function h(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"description"},"Description"),(0,a.kt)("p",null,"The custom event log is very useful to understand how users interact with the app. Some library utilities can record useful events in Firebase and\nGoogle Analytics."),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Event logging in Firebase and Google Analytics is ",(0,a.kt)("strong",{parentName:"p"},"optional")," and is disabled by default."))),(0,a.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"If you enable custom event logging, all logs will be visible in your Firebase or Google Analytics project. This event log is intended for\nyou to analyze how the user interacts with your application. Events are only sent to the Firebase account you have configured in your project."))),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"configuration"},"Configuration"),(0,a.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"If you want to enable event logging, your project must have Firebase Analytics configured and optionally Google Analytics enabled.\n",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://firebase.google.com/docs/analytics/get-started?platform=android"},"Guide."))))),(0,a.kt)("p",null,"To enable library custom event log, you must define the Firebase Analytics instance, this must be done in the ",(0,a.kt)("inlineCode",{parentName:"p"},"onCreate()")," of the\napplication class or in the main activity. When assigning the instance, the record of events will be enabled for all library utilities."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-kotlin"},"Base.firebaseAnalyticsInstance = FirebaseAnalytics.getInstance(context)\n")),(0,a.kt)("p",null,"In case you want to disable the event log for a specific utility, it can be done by:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-kotlin"},"MoreApps.firebaseAnalyticsEnabled = false\n")),(0,a.kt)("p",null,"In the example, the ",(0,a.kt)("inlineCode",{parentName:"p"},"MoreApps")," utility does not log events to Firebase Analytics, but all the other utilities will."),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"event-list"},"Event list"),(0,a.kt)("p",null,"The following list shows the events that the library can log and their description."),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Some events have ",(0,a.kt)(d,{mdxType:"Parameter"},"parameters.")," For an analysis of these parameters,\n",(0,a.kt)("a",{parentName:"p",href:"https://support.google.com/analytics/answer/10075209?hl=en"},"custom dimensions and metrics"),"\ncan be created in Firebase or Google Analytics console."))),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"about-app"},"About App"),(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"about_app_shown"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The about activity is shown to the user.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"about_app_osl_shown"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The open source licenses are shown in the about activity.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"about_app_terms_policy_shown"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The license terms and privacy policy are shown in the about activity.",(0,a.kt)("hr",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"more-apps"},"More Apps"),(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"more_apps_shown_google_play_ok"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The user is directed to Google Play, to the list of the developer apps.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"more_apps_shown_google_play_error"),(0,a.kt)("br",null),(0,a.kt)("br",null),"It is not possible to direct the user to the developer apps list in Google Play.",(0,a.kt)("hr",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"premium-app"},"Premium App"),(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"billing_check_premium_client"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The premium state of the app is verified directly with the Google Play billing client.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"billing_check_premium_preferences"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The premium state of the app is verified through the preferences, since it was not possible to do so through the Google Play billing client.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"billing_client_connection_ok"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"billing_client_connection_error"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"billing_client_disconnected"),(0,a.kt)("br",null),(0,a.kt)("br",null),"They indicate if the connection with the Google Play billing client could be established, and if the connection was lost at any time.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"billing_sku_details_ok"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"billing_sku_details_error"),(0,a.kt)("br",null),(0,a.kt)("br",null),"They indicate whether or not the details of a product could be obtained.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"billing_flow_launch_ok"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"billing_flow_launch_error"),(0,a.kt)("br",null),(0,a.kt)("br",null),"They indicate if the purchase flow could or could not be started.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"billing_purchase_cancelled"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The purchase was canceled, either by the user or because the payment method was rejected or an error occurred.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"billing_purchase_completed"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"billing_purchase_acknowledge_error"),(0,a.kt)("br",null),(0,a.kt)("br",null),"Indicates if the purchase was completed successfully or if there was an error on acknowledged it. These events are always emitted after the payment is approved.",(0,a.kt)("hr",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"rate-app"},"Rate App"),(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_flow_request_ok"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_flow_request_error"),(0,a.kt)("br",null),(0,a.kt)("br",null),"They indicate whether or not the review flow could be obtained.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_flow_launch_ok"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_flow_launch_error"),(0,a.kt)("br",null),(0,a.kt)("br",null),"Indicates whether or not the review flow could be launched (show to the user).",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_flow_shown"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The flow to invite the user to rate the app was shown (the review API does not provide the result, but it can be inferred, although it is not 100% accurate).",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_dialog_shown"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The dialog to rate the app was shown, it only applies in versions prior to Android 5 where the revision API is not available.",(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_sent_google_play_app"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_sent_google_play_web"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(c,{mdxType:"Event"},"rate_app_sent_google_play_error"),(0,a.kt)("br",null),(0,a.kt)("br",null),"They indicate where the user was directed to rate the app. And the last event indicates that the user could not be directed to either the Google Play app or the website.",(0,a.kt)("hr",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"system-web-browser"},"System Web Browser"),(0,a.kt)("hr",null),(0,a.kt)(c,{mdxType:"Event"},"open_url_system_web_browser"),(0,a.kt)("br",null),(0,a.kt)("br",null),"The user is directed to a web page in the system web browser.",(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)(d,{mdxType:"Parameter"},"open_url_case"),(0,a.kt)("br",null),(0,a.kt)("br",null),"Parameter that indicates the reason why the user was directed to the system web browser, and also records when an error occurs.",(0,a.kt)("hr",null),(0,a.kt)("br",null))}h.isMDXComponent=!0}}]);